<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Tynn : A thin library for web development in Ruby">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Tynn</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/frodsan/tynn">View on GitHub</a>

          <h1 id="project_title">Tynn</h1>
          <h2 id="project_tagline">A thin library for web development in Ruby</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/frodsan/tynn/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/frodsan/tynn/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>
<a id="tynn" class="anchor" href="#tynn" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Tynn</h1>

<p>A thin library for web development in Ruby.</p>

<ul>
<li><a href="#installation">Installation</a></li>
<li><a href="#environments">Environments</a></li>
<li><a href="#static-files">Static Files</a></li>
<li><a href="#testing">Testing</a></li>
<li><a href="#changelog">Changelog</a></li>
<li><a href="#development">Development</a></li>
<li><a href="#contributing">Contributing</a></li>
<li><a href="#code-status">Code Status</a></li>
<li><a href="#license">License</a></li>
</ul>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Installation</h2>

<p>Add this line to your application's Gemfile:</p>

<div class="highlight highlight-source-ruby"><pre><span class="pl-k">gem</span> <span class="pl-s"><span class="pl-pds">"</span>tynn<span class="pl-pds">"</span></span></pre></div>

<p>And then execute:</p>

<pre><code>$ bundle
</code></pre>

<p>Or install it yourself as:</p>

<pre><code>$ gem install tynn
</code></pre>

<h2>
<a id="environments" class="anchor" href="#environments" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Environments</h2>

<p>Tynn ships with <a href="https://github.com/frodsan/tynn/blob/master/lib/tynn/environment.rb">Tynn::Environment</a> to set and check
the current environment.</p>

<div class="highlight highlight-source-ruby"><pre><span class="pl-k">require</span> <span class="pl-s"><span class="pl-pds">"</span>tynn<span class="pl-pds">"</span></span>
<span class="pl-k">require</span> <span class="pl-s"><span class="pl-pds">"</span>tynn/environment<span class="pl-pds">"</span></span>

<span class="pl-c1">Tynn</span>.plugin(<span class="pl-c1">Tynn</span>::<span class="pl-c1">Environment</span>)

<span class="pl-c1">Tynn</span>.environment
<span class="pl-c"># =&gt; :development</span></pre></div>

<p>The default value is <code>:development</code>. You can change it through the
<code>RACK_ENV</code> environment variable.</p>

<div class="highlight highlight-source-ruby"><pre><span class="pl-c1">ENV</span>[<span class="pl-s"><span class="pl-pds">"</span>RACK_ENV<span class="pl-pds">"</span></span>]
<span class="pl-c"># =&gt; "test"</span>

<span class="pl-c1">Tynn</span>.environment
<span class="pl-c"># =&gt; :test</span></pre></div>

<p>You can use <code>development?</code>, <code>test?</code>, <code>production?</code> or <code>staging?</code> to check
the current environment.</p>

<div class="highlight highlight-source-ruby"><pre><span class="pl-c1">Tynn</span>.plugin(<span class="pl-c1">Tynn</span>::<span class="pl-c1">Protection</span>, <span class="pl-c1">ssl:</span> <span class="pl-c1">Tynn</span>.production?)</pre></div>

<h2>
<a id="static-files" class="anchor" href="#static-files" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Static Files</h2>

<p>Tynn ships with <a href="https://github.com/frodsan/tynn/blob/master/lib/tynn/static.rb">Tynn::Static</a> to serve static files such as
images, CSS, JavaScript and others.</p>

<div class="highlight highlight-source-ruby"><pre><span class="pl-k">require</span> <span class="pl-s"><span class="pl-pds">"</span>tynn<span class="pl-pds">"</span></span>
<span class="pl-k">require</span> <span class="pl-s"><span class="pl-pds">"</span>tynn/static<span class="pl-pds">"</span></span>

<span class="pl-c1">Tynn</span>.plugin(<span class="pl-c1">Tynn</span>::<span class="pl-c1">Static</span>, <span class="pl-s"><span class="pl-pds">%w(</span>/js /css /images<span class="pl-pds">)</span></span>)</pre></div>

<p>By default, static files are served from the folder <code>public</code> in the current
directory. You can specify a different location by passing the <code>:root</code> option:</p>

<div class="highlight highlight-source-ruby"><pre><span class="pl-c1">Tynn</span>.plugin(<span class="pl-c1">Tynn</span>::<span class="pl-c1">Static</span>, <span class="pl-s"><span class="pl-pds">%w(</span>/js /css /images<span class="pl-pds">)</span></span>, <span class="pl-c1">root:</span> <span class="pl-s"><span class="pl-pds">"</span>assets<span class="pl-pds">"</span></span>)</pre></div>

<p>As you can see in the table below, the name of static directory is not
included in the URL because the files are looked up relative to that
directory.</p>

<table>
<thead>
<tr>
<th>File</th>
<th>URL</th>
</tr>
</thead>
<tbody>
<tr>
<td>./public/js/application.js</td>
<td><a href="http://example.org/js/application.js">http://example.org/js/application.js</a></td>
</tr>
<tr>
<td>./public/css/application.css</td>
<td><a href="http://example.org/css/application.css">http://example.org/css/application.css</a></td>
</tr>
<tr>
<td>./public/images/logo.png</td>
<td><a href="http://example.org/images/logo.png">http://example.org/images/logo.png</a></td>
</tr>
</tbody>
</table>

<p>It's important to mention that the path of the static directory path is
relative to the directory where you run the application. If you run the
application from another directory, it's safer to use an absolute path:</p>

<div class="highlight highlight-source-ruby"><pre><span class="pl-c1">Tynn</span>.plugin(
  <span class="pl-c1">Tynn</span>::<span class="pl-c1">Static</span>,
  <span class="pl-s"><span class="pl-pds">%w(</span>/js /css /images<span class="pl-pds">)</span></span>,
  <span class="pl-c1">root:</span> <span class="pl-c1">File</span>.expand_path(<span class="pl-s"><span class="pl-pds">"</span>public<span class="pl-pds">"</span></span>, __dir__)
)</pre></div>

<h2>
<a id="testing" class="anchor" href="#testing" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Testing</h2>

<p>Tynn ships with <a href="https://github.com/frodsan/tynn/blob/master/lib/tynn/test.rb">Tynn::Test</a>, a simple helper class to simulate
requests to your application.</p>

<div class="highlight highlight-source-ruby"><pre><span class="pl-k">require</span> <span class="pl-s"><span class="pl-pds">"</span>tynn<span class="pl-pds">"</span></span>
<span class="pl-k">require</span> <span class="pl-s"><span class="pl-pds">"</span>tynn/test<span class="pl-pds">"</span></span>

<span class="pl-c1">Tynn</span>.define <span class="pl-k">do</span>
  root <span class="pl-k">do</span>
    res.write(<span class="pl-s"><span class="pl-pds">"</span>hei<span class="pl-pds">"</span></span>)
  <span class="pl-k">end</span>
<span class="pl-k">end</span>

app <span class="pl-k">=</span> <span class="pl-c1">Tynn</span>::<span class="pl-c1">Test</span>.<span class="pl-k">new</span>
app.get(<span class="pl-s"><span class="pl-pds">"</span>/<span class="pl-pds">"</span></span>)

<span class="pl-c1">200</span>   <span class="pl-k">==</span> app.res.status <span class="pl-c"># =&gt; true</span>
<span class="pl-s"><span class="pl-pds">"</span>hei<span class="pl-pds">"</span></span> <span class="pl-k">==</span> app.res.body   <span class="pl-c"># =&gt; true</span></pre></div>

<p><a href="https://github.com/frodsan/tynn/blob/master/lib/tynn/test.rb">Tynn::Test</a> is test-framework agnostic. The following example
uses <a href="https://github.com/seattlerb/minitest">Minitest</a>:</p>

<div class="highlight highlight-source-ruby"><pre><span class="pl-k">require</span> <span class="pl-s"><span class="pl-pds">"</span>minitest/autorun<span class="pl-pds">"</span></span>
<span class="pl-k">require</span> <span class="pl-s"><span class="pl-pds">"</span>tynn/test<span class="pl-pds">"</span></span>

<span class="pl-k">class</span> <span class="pl-en">GuestsRouteTest<span class="pl-e"> &lt; Minitest::Test</span></span>
  <span class="pl-k">def</span> <span class="pl-en">setup</span>
    <span class="pl-smi">@app</span> <span class="pl-k">=</span> <span class="pl-c1">Tynn</span>::<span class="pl-c1">Test</span>.<span class="pl-k">new</span>
  <span class="pl-k">end</span>

  <span class="pl-k">def</span> <span class="pl-en">test_home</span>
    <span class="pl-smi">@app</span>.get(<span class="pl-s"><span class="pl-pds">"</span>/<span class="pl-pds">"</span></span>)

    assert_equal <span class="pl-c1">200</span>, <span class="pl-smi">@app</span>.res.status
    assert_equal <span class="pl-s"><span class="pl-pds">"</span>Hello World!<span class="pl-pds">"</span></span>, <span class="pl-smi">@app</span>.res.body
    assert_equal <span class="pl-s"><span class="pl-pds">"</span>text/html<span class="pl-pds">"</span></span>, <span class="pl-smi">@app</span>.res[<span class="pl-s"><span class="pl-pds">"</span>Content-Type<span class="pl-pds">"</span></span>]
  <span class="pl-k">end</span>
<span class="pl-k">end</span></pre></div>

<p>If this is not of your flavor, you can use any Rack-based
testing library or framework, like: <a href="https://github.com/brynary/rack-test">Rack::Test</a>
or <a href="https://github.com/jnicklas/capybara">Capybara</a>.</p>

<h2>
<a id="changelog" class="anchor" href="#changelog" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Changelog</h2>

<p>To learn about new features, bug fixes, and changes, please refer to
the <a href="https://github.com/frodsan/tynn/blob/master/CHANGELOG.md">CHANGELOG</a>.</p>

<h2>
<a id="development" class="anchor" href="#development" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Development</h2>

<p>Fork the project with:</p>

<pre><code>$ git clone git@github.com:frodsan/tynn.git
</code></pre>

<p>To install dependencies, use:</p>

<pre><code>$ bundle install
</code></pre>

<p>To run the test suite, do:</p>

<pre><code>$ rake test
</code></pre>

<h2>
<a id="contributing" class="anchor" href="#contributing" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Contributing</h2>

<p>Use <a href="https://github.com/frodsan/tynn/issues">GitHub Issues</a> for reporting
bugs, discussing features and general feedback.  If you've found a problem
in Tynn, be sure to check the <a href="https://github.com/frodsan/tynn/issues?state=closed">past issues</a>
before open a new one.</p>

<h2>
<a id="code-status" class="anchor" href="#code-status" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Code Status</h2>

<p><a href="https://travis-ci.org/frodsan/tynn"><img src="https://travis-ci.org/frodsan/tynn.svg?branch=master" alt="Build Status"></a></p>

<h2>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>License</h2>

<p>Tynn is released under the <a href="http://www.opensource.org/licenses/MIT">MIT License</a>.</p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Tynn maintained by <a href="https://github.com/frodsan">frodsan</a></p>
        <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
